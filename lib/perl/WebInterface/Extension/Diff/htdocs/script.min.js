(function(e){e(document).ready(function(){e("body").on("fileActionEvent",function(t,n){function r(t){if(!t.error){var n=e(t.content),i=e(window).width()-200,s=e(window).height()-200;e(".diff.tabs",n).tabs({heightStyle:"auto"}),n.dialog({modal:!0,width:i,height:s,dialogClass:"diff",closeText:e("#close").html(),resizeStop:function(){e("#showdifftab,#showrawtab",n).css({height:n.height()-e(".buttonbar",n).height()-120})},open:function(){e("#showdifftab,#showrawtab",n).css({height:n.height()-e(".buttonbar",n).height()-120})}}),e(".diff.swapfiles",n).button().click(function(){n.dialog("close"),ToolBox.getDialogByPost({action:"diff",files:[e(this).data("file2"),e(this).data("file1")]},r)}),e(".diff.close",n).button().click(function(){n.dialog("destroy")}),n.MyTooltip(500)}}if(!n.obj.hasClass("diff"))return;ToolBox.getDialogByPost({action:"diff",files:n.selected},r)}),e(".action.diff").hide(),e("#flt").on("fileListSelChanged",function(){e(".action.diff").toggle(e("#fileList tr.selected:visible").length==2)})})})(jQuery);
