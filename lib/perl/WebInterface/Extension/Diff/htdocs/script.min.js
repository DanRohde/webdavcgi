(function(a){a(document).ready(function(){a("body").on("fileActionEvent",function(c,d){if(!d.obj.hasClass("diff")){return}function b(e){if(e.error){noty({text:e.error,type:"error",layout:"topCenter",timeout:30000})}else{var f=a(e.content);var h=a(window).width()-200;var g=a(window).height()-200;a(".diff.tabs",f).tabs({heightStyle:"auto"});f.dialog({modal:true,width:h,height:g,dialogClass:"diff",closeText:a("#close").html(),resizeStop:function(){a("#showdifftab,#showrawtab",f).css({height:f.height()-a(".buttonbar",f).height()-120})},open:function(){a("#showdifftab,#showrawtab",f).css({height:f.height()-a(".buttonbar",f).height()-120})}});a(".diff.swapfiles",f).button().click(function(){f.dialog("close");ToolBox.getDialogByPost({action:"diff",files:[a(this).data("file2"),a(this).data("file1")]},b)});a(".diff.close",f).button().click(function(){f.dialog("destroy")});f.MyTooltip(500)}}ToolBox.getDialogByPost({action:"diff",files:d.selected},b)});a(".action.diff").hide();a("#flt").on("fileListSelChanged",function(){a(".action.diff").toggle(a("#fileList tr.selected:visible").length==2)})})}(jQuery));