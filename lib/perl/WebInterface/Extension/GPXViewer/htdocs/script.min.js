$(document).ready(function(){function a(b){ToolBox.getDialogByPost({action:"gpxviewer",file:b},function(c){var d=$(c);d.dialog({width:"auto",height:"auto",modal:true,dialogClass:d.attr("class"),closeText:$("#close").html(),open:function(){$("#gpxviewer").trigger("init",{dialog:d})},resizeStop:function(){$("#gpxviewer").trigger("resized",{dialog:d})},close:function(){$("#gpxviewer").trigger("closed",{dialog:d});d.dialog("destroy")}})})}$("body").on("fileActionEvent",function(b,c){if(c.obj.hasClass("gpxviewer")){a(c.file)}});$("#flt").on("fileListChanged",function(){$("#fileList .suffix-gpx.isempty-no.isreadable-yes.is-file .filename.action.changeuri").off("click").on("click",function(c){var b=$(this);if(b.closest("div.filename").is(".ui-draggable-dragging")){return}a(b.closest("tr").data("file"))})})});