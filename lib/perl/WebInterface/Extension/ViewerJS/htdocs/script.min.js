$(document).ready(function(){$("body").on("fileActionEvent",function(c,d){function a(f){$("iframe",f).attr("width",$(window).width()-40).attr("height",$(window).height()-Math.max($(".close.button",f).outerHeight(),50))}function b(f){$("#main").show();$(window).off("popstate.viewerjs unload.viewerjs beforeunload.viewerjs resize.viewerjs");if(f&&f.remove){f.remove()}}if(d.obj.hasClass("viewerjs")){var e=$.MyPost(window.location.pathname,{action:"viewerjs",file:d.file},function(f){$("#main").hide();var g=$(f);$(".close.button",g).button().click(function(){b(g)});$(window).off("popstate.viewerjs unload.viewerjs beforeunload.viewerjs").on("popstate.viewerjs unload.viewerjs beforeunload.viewerjs",function(){b(g)}).off("resize.viewerjs").on("resize.viewerjs",function(){a(g)});a(g);g.appendTo($("body"))});ToolBox.renderAbortDialog(e)}})});