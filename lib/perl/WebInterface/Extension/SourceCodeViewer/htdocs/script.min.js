$(document).ready(function(){$("body").on("fileActionEvent",function(b,c){if(c.obj.hasClass("scv")){var a=ToolBox.getSelectedFiles(c.obj);var e=ToolBox.blockPage();var d=$.post(window.location.href,{action:"scv",files:a},function(g){e.remove();ToolBox.handleJSONResponse(g);if(!g.error){var h=$(g);var f=$(window).height();var i=$(window).width();$(".prettyprint",h).data("src",$(".prettyprint",h).text());$(".prettyprint",h).css({"max-width":(i-120)+"px","max-height":(f-300)+"px"});$(".scv-linenum",h).button().click(function(j){ToolBox.preventDefault(j);$(".prettyprint",h).toggleClass("linenums").removeClass("prettyprinted").text($(".prettyprint",h).data("src"));prettyPrint();return false});h.dialog({width:"auto",height:"auto",maxWidth:i-50,maxHeight:f-50,open:function(){if(prettyPrint){prettyPrint()}}})}});ToolBox.renderAbortDialog(d)}})});