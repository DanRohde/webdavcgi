$(document).ready(function(){ToolBox.initUpload($("#zipfile-up-form"),$("#zipupconfirm").html(),$("#progress").attr("data-title"),false);$(".action.zipup").click(function(a){ToolBox.preventDefault(a);if($(this).hasClass("disabled")){return}$("#zipfile-up-form input[type=file]").trigger("click")});$(".action.zipcompress").click(function(a){ToolBox.preventDefault(a);if($(this).hasClass("disabled")){return}var c=ToolBox.blockPage();var b=$.post(window.location.pathname,{action:"zipcompress",files:ToolBox.getSelectedFiles(this)},function(d){c.remove();ToolBox.handleJSONResponse(d);ToolBox.updateFileList()});ToolBox.renderAbortDialog(b,false,function(){ToolBox.updateFileList()})});$(".action.zipuncompress").click(function(b){var a=this;ToolBox.preventDefault(b);if($(this).hasClass("disabled")){return}ToolBox.confirmDialog($("#zipuncompressconfirm").html(),{confirm:function(){var d=ToolBox.blockPage();var c=$.post(window.location.pathname,{action:"zipuncompress",files:ToolBox.getSelectedFiles(a)},function(e){d.remove();ToolBox.handleJSONResponse(e);ToolBox.updateFileList()});ToolBox.renderAbortDialog(c,false,function(){ToolBox.updateFileList()})}})});$("body").on("fileActionEvent",function(a,b){if(b.obj.hasClass("zipdwnload")){ToolBox.postAction({action:"zipdwnload",files:b.obj.hasClass("listaction")?b.selected:b.file})}else{if(b.obj.hasClass("zipup")){$("#zipfile-up-form input[type=file]").trigger("click")}}})});