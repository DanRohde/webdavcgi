(function(a){a.fn.MyPopup=function(e){if(e==="close"){a("ul.popup:visible",this).hide();return this}var f=a.extend({namespace:"popupnavigation",timername:"popupnavigationtimer"},e);function d(h){if(h.preventDefault){h.preventDefault()}else{h.returnValue=false}if(h.stopPropagation){h.stopPropagation()}}function c(i,h){if(i.hasClass("disabled")){return i}a("ul.popup:first",i).toggle(h);if(!a("ul.popup:first",i).is(":visible")){a("ul.popup",i).hide()}return i}function b(h){window.clearTimeout(a("body").data(f.timername));return h}function g(h){a("ul.popup:visible",h.siblings("li.popup")).hide();return h}this.filter(":not(.popup-click)").off("."+f.namespace).on("mouseenter."+f.namespace,function(){var h=a(this);b(h);a("body").data(f.timername,window.setTimeout(function(){c(g(h),true)},350))}).on("click."+f.namespace+" dblclick."+f.namespace,function(i){d(i);var h=a(this);c(g(b(h)));a(":focusable:first",h).focus()}).MyKeyboardEventHandler();this.filter(".popup-click").off("."+f.namespace).on("click."+f.namespace+" dblclick."+f.namespace,function(h){d(h);c(g(a(this)))}).MyKeyboardEventHandler();this.on("focus."+f.namespace,function(){g(a(this))});this.siblings(":not(.popup)").off("."+f.namespace).on("focus."+f.namespace+" click."+f.namespace+" mouseenter."+f.namespace,function(){g(a(this))});this.filter(".popup-click").siblings("li:not(.popup)").off("mouseenter."+f.namespace);return this}}(jQuery));