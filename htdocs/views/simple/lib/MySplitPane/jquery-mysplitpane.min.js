(function(e){e.fn.MySplitPane=function(t){function o(e){if(i.left.min&&i.left.min>0&&e<=i.left.min)return;if(i.left.max&&i.left.max>0&&e>=i.left.max)return;i.left.element.css(i.left.style,e+"px"),i.right.element.css(i.right.style,e+12+"px"),u(r)}function u(e){var t=a(e);e.css({left:t.left+"px",top:t.top+"px"})}function a(t){var r=e(window);return{left:n.offset().left+n.outerWidth()-t.outerWidth()/2-r.scrollLeft(),top:n.offset().top+n.data("MySplitPaneSettings").offsetY-r.scrollTop()}}var n=this;if(t=="resize"){var r=n.find(".mysplitpane-handle");return r.length>0&&u(r),this}var i=e.extend({},e.fn.MySplitPane.defaults,t);i.left.element=="self"&&(i.left.element=n),n.data("MySplitPaneSettings",i);var s=e("<div/>"),r=e("<div/>").addClass("mysplitpane-handle").draggable({drag:function(e,t){o(t.position.left)},stop:function(e,t){i.stop&&i.stop(t.position.left)},helper:function(){return s}}).attr("tabindex",0).on("keydown",function(e){e.keyCode==37?o(parseInt(i.left.element.css(i.left.style),10)-i.keyboardOffset):e.keyCode==39&&o(parseInt(i.left.element.css(i.left.style),10)+i.keyboardOffset)});return r.css({left:a(r).left+"px",top:a(r).top+"px"}),n.append(r),this},e.fn.MySplitPane.defaults={stop:function(e){},offsetY:0,keyboardOffset:10,left:{style:"width",element:undefined,min:0,max:0},right:{style:"margin-left",element:undefined}}})(jQuery);
